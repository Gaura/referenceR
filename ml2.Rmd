Bagging - Bootstrap and aggregation together. Building models on samples of the data with substitution and then using either a majority or average of the model. It still gives model with similar bias but with reduced variance. Especially good for non linear models such as trees.

```{r}
library(ElemStatLearn)
```

```{r}
data(ozone)
dataOz <- ozone[order(ozone$ozone),]
predictions <- matrix(nrow=155,ncol=10)
for(i in 1:10){
      dataOzSub <- dataOz[sample(nrow(dataOz),nrow(dataOz),replace = T),]
      model <- loess(temperature ~ ozone, data = dataOzSub)
      predictedTemp <- predict(model,newdata = data.frame(ozone=1:155))
      predictions[,i] <- predictedTemp
      }
```
Plot and see
```{r}
plot(dataOz$ozone,dataOz$temperature,pch=19,cex=0.5)
for(i in 1:10){
lines(1:155,predictions[,i],col='grey',lwd=2)
}
meanT <- rowMeans(predictions,na.rm = T)
lines(1:155,meanT,col='red',lwd=2)
```

Resample, refit and average or apply other function

